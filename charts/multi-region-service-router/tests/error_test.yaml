suite: error handling tests
templates:
  - dnsendpoint.yaml
release:
  name: test-release
  namespace: default
tests:
  - it: should fail when a regionbound app has no region specified
    values:
      - ./values/regionbound-missing-region-test-values.yaml
    asserts:
      - failedTemplate:
          errorMessage: App 'app-01' is regionbound but has no region set!
          
  - it: should fail when a gateway referenced in services does not exist in gateways list
    values:
      - ./values/gateway-not-found-test-values.yaml
    asserts:
      - failedTemplate:
          errorMessage: Gateway 'non-existent-gateway' referenced in app 'app-02' not found in gateways list!
